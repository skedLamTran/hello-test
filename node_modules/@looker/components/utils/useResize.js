import throttle from 'lodash/throttle';
import ResizeObserver from 'resize-observer-polyfill';
import { useSafeLayoutEffect } from './useSafeLayoutEffect';
export var useResize = function useResize(element, handler) {
  useSafeLayoutEffect(function () {
    var throttledHandler = throttle(handler, 100);

    if (!element) {
      return;
    }

    handler();
    var resizeObserver = new ResizeObserver(function () {
      return throttledHandler();
    });

    if (element) {
      resizeObserver.observe(element);
    }

    window.addEventListener('resize', throttledHandler);
    return function () {
      window.removeEventListener('resize', throttledHandler);

      if (resizeObserver) {
        resizeObserver.disconnect();
      }
    };
  }, [handler, element]);
};
//# sourceMappingURL=useResize.js.map