"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useFlatOptions = exports.getFlatOptions = void 0;

require("core-js/modules/es.array.iterator.js");

var _react = require("react");

const getFlatOptions = options => options.reduce((acc, option) => {
  const optionAsGroup = option;

  if (optionAsGroup.options) {
    const groupPseudoOptions = [{}];

    if (optionAsGroup.label) {
      groupPseudoOptions.push({
        label: optionAsGroup.label
      });
    }

    return {
      flatOptions: [...acc.flatOptions, ...groupPseudoOptions, ...optionAsGroup.options],
      navigationOptions: [...acc.navigationOptions, ...optionAsGroup.options]
    };
  }

  return {
    flatOptions: [...acc.flatOptions, option],
    navigationOptions: [...acc.navigationOptions, option]
  };
}, {
  flatOptions: [],
  navigationOptions: []
});

exports.getFlatOptions = getFlatOptions;

const useFlatOptions = options => {
  return (0, _react.useMemo)(() => {
    if (!options) return {
      flatOptions: undefined,
      navigationOptions: undefined
    };
    return getFlatOptions(options);
  }, [options]);
};

exports.useFlatOptions = useFlatOptions;
//# sourceMappingURL=useFlatOptions.js.map