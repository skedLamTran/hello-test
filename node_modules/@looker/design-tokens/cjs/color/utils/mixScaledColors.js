"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mixScaledColors = void 0;

var _getLuminance = _interopRequireDefault(require("polished/lib/color/getLuminance"));

var _mix = _interopRequireDefault(require("polished/lib/color/mix"));

var _scaleMixAmount = require("./scaleMixAmount");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const mixScaledColors = (mixAmount, foreground, background) => {
  const colorLuminance = (0, _getLuminance.default)(background);
  const luminanceAdjustmentScale = {
    lower: 1.3,
    lowest: 1.7
  };
  let adjustment = mixAmount;

  if (colorLuminance < 0.16 && colorLuminance > 0.08) {
    adjustment = luminanceAdjustmentScale.lower;
  } else if (colorLuminance < 0.08) {
    adjustment = luminanceAdjustmentScale.lowest;
  }

  const mixAdjustment = colorLuminance > 0.3 ? mixAmount : (0, _scaleMixAmount.scaleMixAmount)(mixAmount, adjustment);
  return (0, _mix.default)(mixAdjustment / 100, foreground, background);
};

exports.mixScaledColors = mixScaledColors;
//# sourceMappingURL=mixScaledColors.js.map